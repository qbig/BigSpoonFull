{% extends "staff.html" %}

{% block content %}

<div class="help">
    <p><i class="icon-food"></i> <strong>Menu</strong> lets you view and update your outlet's menu items.</p>
</div>

<div class="wrapper">
    <div class="wrapper-bg">

        <a class="add" href="/staff/menu/add/"><i class="icon-plus"></i> Add menu item</a>

        <input type="text" class="text-input" id="filter" value="" placeholder="Type to filter"/>

        <select id="pick-category">
            <option value="">
            All Categories
            </option>
            {% for category in categories %}
            <option value="{{category.name}}">
            {{category.name|capfirst}}
            </option>
            {% endfor %}
        </select>

        <!-- <h1>Menu</h1> -->

        <div id="accordion">
            {% for dish in dish_list %}
            <h3 class= "accordion-heading"><input type="hidden" value="{{dish.categories.all}}" /> {{ dish.name }} <i class="icon-collapse"></i></h3>
            
                <div class="menu-item">
                    <img class="lazy" data-src="{{ dish.photo.url_640x400 }}" src = ""/>
                    <span class="form">
                        <p class="name"><label>Name </label> <input type="text" value="{{dish.name}}"></p>
                        <p class="price"><i class="icon-usd"></i> Price <input type="text" value="{{dish.price}}"></p>
                        <p class="pos"><i class="icon-barcode"></i> POS <input type="text" value="{{dish.pos}}"></p>
                        <p class="description">Description <br/><textarea cols="40" rows="10">{{dish.desc}}</textarea></p>
                        <p class="start_time"><i class="icon-time"></i> Start time <br/><input type="text" autocomplete="off" class="ui-timepicker-input" value="{{dish.start_time|date:"H:i:s"}}"></p>
                        <p class="end_time"><i class="icon-time"></i> End time <br/><input type="text" autocomplete="off" class="ui-timepicker-input" value="{{dish.end_time|date:"H:i:s"}}"></p>
                        <p class="quantity"><i class="icon-shopping-cart"></i> Stock <br/>
                            <select>
                                <option value="{{dish.quantity}}" selected="selected">Current: {{dish.quantity}}</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23">23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                                <option value="40">40</option>
                                <option value="50">50</option>
                                <option value="60">60</option>
                                <option value="70">70</option>
                                <option value="80">80</option>
                                <option value="90">90</option>
                                <option value="100">100</option>
                                <option value="200">200</option>
                                <option value="300">300</option>
                                <option value="400">400</option>
                                <option value="500">500</option>
                            </select>
                        </p>

                        <p><label>Active </label> <input type="checkbox" name="isActiveCheckbox" value="isActive" {% if dish.is_active %}checked{% endif %}>
                        <p class="photo"><i class="icon-camera"></i> <input name="photo" type="file"></p>
                        </p><a href="#" class="add" dish-id="{{dish.id}}" cate-id="{{dish.categories.all.0.id}}" cate-name="{{dish.categories.all.0.name}}" cate-desc="{{dish.categories.all.0.desc}}" onclick="updateDish(event, this)"><i class="icon-save"></i> Save</a>
                    </span>
                    <span id="notice-{{dish.id}}" class="notifications">
                    </span>
                </div>
            
            {% endfor %}
        </div>
    </div>
</div>
{% endblock content %}
